<!DOCTYPE html>
<html lang="en">

  <head>
    <title> Pathfinder </title>
    <meta name="Description" content="Pathfinder, your best travel buddy.">
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta name="theme-color" content="#FFFFFF" />
    <meta charset="utf-8">
    <!-- http://localhost:8003 -->
    <!-- <meta name="google-signin-client_id" content="814348781756-kpu2m8rvfnar9ivrof6v7f0keqls4n0o.apps.googleusercontent.com"> -->
    <!-- https://path-finder-orbital.herokuapp.com/ -->
    <!-- <meta name="google-signin-client_id" content="814348781756-e6kj9mrdr7im8dkit76ebt4plih06jsd.apps.googleusercontent.com"> -->
    <!-- http://localhost:8002 -->
    <!-- <meta name="google-signin-client_id" content="814348781756-at7u5j435edk45r985u1uitukt7sds5l.apps.googleusercontent.com"> -->
    <!-- http://path-finder-orbital.herokuapp.com/ -->
    <meta name="google-signin-client_id" content="814348781756-ose3brjfikio60bhhnftr35bk7gnk1ca.apps.googleusercontent.com">
    <!-- Redirect http traffic to https -->
    <script>
      // var loc = window.location.href + '';
      // if (loc.indexOf('http://') == 0) {
      //   window.location.href = loc.replace('http://', 'https://');
      // }
    </script>
    <!-- <meta http-equiv="refresh" content="0;URL=https://path-finder-orbital.herokuapp.com" /> -->
    <link rel="stylesheet" async type="text/css" media="screen and (max-width: 770px)" href="dist/light-theme.mobile.css">
    <link rel="stylesheet" async type="text/css" media="screen and (min-width: 771px)" href="dist/light-theme.css">
    <link rel="stylesheet" async type="text/css" media="screen and (max-width: 770px)" href="index-mobile.css">
    <link rel="stylesheet" async type="text/css" media="screen and (min-width: 771px)" href="index.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>
    <link rel="manifest" href="/manifest.json">
  </head>

  <body>
    <div class="navbar">
      <!-- User guide popup -->
      <a href="#popup3"><i class="fas fa-question-circle"></i> Help</a>

      <!-- Download path button -->
      <a id="download" onclick="downloadPath()"><i class="fas fa-external-link-alt"></i> Export</a>

      <!-- Save path button -->
      <a id="save" onclick="savePath()" href="#"><i class="fas fa-check"></i> Save</a>

      <div class="dropdown">
        <!-- Profile tab -->
        <a class="profile" onclick="toggleDropDown()"><i class="fa fa-fw fa-user"></i> Profile</a>

        <div id="myDropdown" class="dropdown-content">
          <!-- View existing paths button -->
          <a id="view" href="#popup1" onclick=checkIfLoggedIn()>View saved</a>

          <!-- Google sign-out button -->
          <a id="sign-out" onclick="signOut();">Sign out</a>

        </div>
        <script>
          /* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
          function toggleDropDown() {
            document.getElementById("myDropdown").classList.toggle("show");
          }

          // Close the dropdown menu if the user clicks outside of it
          window.onclick = function(event) {
            if (!event.target.matches('.profile')) {
              var dropdowns = document.getElementsByClassName("dropdown-content");
              var i;
              for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                  openDropdown.classList.remove('show');
                }
              }
            }
          }
        </script>
      </div>

    </div>

    <!-- Page Title -->
    <h2 id="page-title"> <b> PATHFINDER </b> </h2>

    <!-- <button id="sign-out" onclick="signOut();">Sign out</button> -->

    <!-- New path button -->
    <!-- <button id="new-path" onclick="document.location.reload(true);">New path</button> -->

    <!-- Pop-up 1: requiring sign-in first if not signed in -->
    <div id="popup1" class="overlay">
      <div class="popup1">
        <h2>Please sign in first</h2>
        <a id="close1" class="close" href="#">&times;</a>
        <div class="content">
          <p> Click on the button below to sign in to view your saved paths. </p>
        </div>
        <!-- Google sign-in button -->
        <div class="g-signin2" data-width="300" data-height="60" data-longtitle="false" data-onsuccess="onSuccess"> </div>
        <p> </p>
      </div>
    </div>

    <!-- Pop-up 2: to choose routes if signed in-->
    <div id="popup2" class="overlay">
      <div class="popup2">
        <h2><a href="/paths">Please choose a route</a></h2>
        <a class="close" href="#">&times;</a>
        <ul id="myList"></ul>
      </div>
    </div>

    <!-- Pop-up 2: to choose routes if signed in-->
    <div id="popup3" class="overlay">
      <div class="popup2">
        <h3>User guide</h3>
        <a class="close" href="#">&times;</a>

        <h2> To create a new path: </h2>
        <p> Step 1: Input and add any locations you wish to visit in any order. </p>
        <p> Step 2: Press calculate to display the most optimal path for your locations. </p>
        <p> Step 3: Drag and reorder the location buttons as you like. </p>
        <p> Step 4: Path complete! You can now choose to save your path or refresh the page to start anew. </p>
        <p> Step 5: You may also want to export your path as a pdf.</p> <br />

        <h2> To edit existing saved paths: </h2>
        <p> Step 1: Click on profile. </p>
        <p> Step 2: Click on path of choice to edit. </p>
        <p> Step 3: Drag and reorder the location buttons and add new locations as you like. </p>
        <p> Step 4: Path edit complete! You can now choose to update your path. </p>
        <p> Step 5: You may also want to export your path as a pdf.</p> <br />

        <h2>Keyboard shortcuts</h2>
        <div class="content">
          <table>
            <col width="100" , row height="150">
            <tr>
              <td><b> a </b></td>
              <td> Add location</td>
            </tr>
            <tr>
              <td><b> Ctrl + C </b></td>
              <td> Calculate path</td>
            </tr>
            <tr>
              <td><b> Ctrl + S </b></td>
              <td> Save new path </td>
            </tr>
            <tr>
              <td><b> Ctrl + S </b></td>
              <td> Update existing path </td>
            </tr>
            <tr>
              <td><b> Ctrl + V</b></td>
              <td> View all saved paths </td>
            </tr>

            <tr>
              <td><b> Ctrl + D</b></td>
              <td> Export path </td>
            </tr>
          </table>

        </div>
      </div>
    </div>

    <!-- Search country button-->
    <input name="search" id="pac-input" class="controls" type="text" placeholder="Enter a destination.">

    <!-- Integration with google maps -->
    <div id="map-container">
      <div id="map"></div>

      <!-- Directions Panel -->
      <div class=sortable id="directions-panel"></div>

      <!-- Image Panel -->
      <div id="image-panel">
        <img id="location-image" alt="Image is loading..."></img>
        <span id="rating" class="rating-static rating-0"></span>
        <p id="info"></p>
      </div>
    </div>

    <form action="/download-path" method="POST" id="selectForm">
      <input type="hidden" name="selected" id="idHidden">
    </form>



    <!-- Load javascript files -->

    <script async src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script async src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script async src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="keyboard-shortcuts/mousetrap.min.js"></script>
    <script src="keyboard-shortcuts/mousetrap-global-bind.js"></script>
    <script src="keyboard-shortcuts/keyboard-shortcuts.js"></script>
    <script async src="dist/growl-notification.min.js"></script>
    <!-- <script async type="text/javascript" src="main.min.js"></script> -->
    <!-- <script type="text/javascript" src="location-buttons.js" async></script> -->
    <script type="text/javascript" src="sign-in.js"></script>
    <script type="text/javascript" src="sign-out.js"></script>
    <script type="text/javascript" src="refresh.js"></script>
    <script type="text/javascript" src="save-path.js"></script>
    <script type="text/javascript" src="delete-path.js"></script> ---
    <script type="text/javascript" src="location-buttons.js"></script>
    <script type="text/javascript" src="autocomplete-search.js"></script>
    <script type="text/javascript" src="load-popup.js"></script>
    <script type="text/javascript" src="calculate-display-path.js"></script>
    <script type="text/javascript" src="vertices-panel2.js"></script>
    <script type="text/javascript" src="image-panel.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQOCk29KyMP6NzMOgsS00V_XrOkjPgeJQ&libraries=places&callback=initAutocomplete" async defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js" async defer></script>

  </body>



</html>